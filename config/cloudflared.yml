# Cloudflare Tunnel configuration for The Metadata Neighborhood
# Tunnel Name: cardigan
# Domain: cardigan.bymarkriechers.com
#
# One-time setup required before this works:
#   1. brew install cloudflared
#   2. cloudflared login
#   3. cloudflared tunnel create cardigan
#   4. Replace <TUNNEL_UUID> below with the UUID from step 3
#   5. cloudflared tunnel route dns cardigan cardigan.bymarkriechers.com
#   6. Set ENABLE_TUNNEL=true in .env
#
# See docs/REMOTE_ACCESS.md for full instructions.

tunnel: e13ca599-67e6-4028-9f3d-71a2329e36e0
credentials-file: ~/.cloudflared/e13ca599-67e6-4028-9f3d-71a2329e36e0.json

ingress:
  # Route all traffic to Vite dev server (which proxies /api to uvicorn)
  - hostname: cardigan.bymarkriechers.com
    service: http://localhost:3000
    originRequest:
      connectTimeout: 10s
      keepAliveTimeout: 90s
  # Required catch-all rule
  - service: http_status:404
